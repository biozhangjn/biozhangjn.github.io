<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux | Jiannan Zhang</title><link>/tags/linux/</link><atom:link href="/tags/linux/index.xml" rel="self" type="application/rss+xml"/><description>Linux</description><generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Tue, 07 Apr 2020 00:00:00 +0000</lastBuildDate><image><url>img/map[gravatar:%!s(bool=false) shape:circle]</url><title>Linux</title><link>/tags/linux/</link></image><item><title>Ubuntu设置虚拟内存</title><link>/post/linux/ubuntu%E8%AE%BE%E7%BD%AE%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/</link><pubDate>Tue, 07 Apr 2020 00:00:00 +0000</pubDate><guid>/post/linux/ubuntu%E8%AE%BE%E7%BD%AE%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98/</guid><description>&lt;p>现在数据展示越来越离不开VPS/CES了，但是买的服务一般都是1G内存的（大写的穷），所以一般买了VPS习惯性的会增加虚拟内存，记下免得每次都去google。&lt;/p>
&lt;h3 id="创建虚拟映像文件">创建虚拟映像文件：&lt;/h3>
&lt;pre>&lt;code class="language-shell">sudo swapon --show #查看SWAP分区
sudo dd if=/dev/zero of=swapfile bs=1024 count=1024000
&lt;/code>&lt;/pre>
&lt;p>虚拟内存大小一般接近物理内存就可以了。&lt;/p>
&lt;h3 id="将虚拟映像文件转换成swap文件">将虚拟映像文件转换成swap文件：&lt;/h3>
&lt;pre>&lt;code class="language-SHELL">sudo mkswap -f swapfile
chmod 0600 swapfile
&lt;/code>&lt;/pre>
&lt;h3 id="激活-swap">激活 swap：&lt;/h3>
&lt;pre>&lt;code class="language-shell">sudo swapon swapfile
&lt;/code>&lt;/pre>
&lt;p>然后输入&lt;code>free&lt;/code>查看内存信息，就可以发现虚拟内存已经启用。&lt;/p>
&lt;p>TIPS：重启之后，需要重新激活swap，建议将激活命令写入开机启动项喔~~&lt;/p>
&lt;h3 id="将激活命令写入开机启动项">将激活命令写入开机启动项：&lt;/h3>
&lt;pre>&lt;code class="language-shell">sudo cp /etc/fstab /etc/fstab.bak
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab #学到么？
shutdown -r now #重启看下free
&lt;/code>&lt;/pre>
&lt;h3 id="关闭和删除原来的swapfile">关闭和删除原来的swapfile：&lt;/h3>
&lt;pre>&lt;code class="language-shell">sudo swapoff swapfile
sudo rm /swapfile
&lt;/code>&lt;/pre>
&lt;p>over~~~&lt;/p></description></item></channel></rss>